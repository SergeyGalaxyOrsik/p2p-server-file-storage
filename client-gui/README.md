# CourseStore GUI Client

Графический клиент для Windows для работы с распределённым файловым хранилищем CourseStore.

## Возможности

- ✅ **Просмотр файлов** - список всех файлов в системе с информацией о размере и количестве чанков
- ✅ **Загрузка файлов** - загрузка локальных файлов в систему через диалог выбора файла
- ✅ **Скачивание файлов** - скачивание файлов из системы с выбором места сохранения
- ✅ **Просмотр чанков** - детальная информация о том, на каких узлах хранятся чанки каждого файла
- ✅ **Просмотр узлов** - список всех доступных узлов хранения с информацией о статусе и свободном месте
- ✅ **Статус узлов** - отображение активных и неактивных узлов

## Сборка

### Требования:
- Windows 10/11
- CMake 3.15+
- Visual Studio 2022 или MinGW-w64
- Скомпилированные библиотеки `common` и `client`

### Сборка:

```cmd
# Из корневой директории проекта
build.bat
```

GUI клиент будет скомпилирован вместе с остальными компонентами.

Исполняемый файл: `build\Release\client-gui.exe`

## Использование

### Запуск:

```cmd
build\Release\client-gui.exe
```

### Интерфейс:

1. **Подключение к серверу:**
   - Введите IP адрес и порт Metadata Server (по умолчанию: 127.0.0.1:8080)
   - Нажмите кнопку "Connect"

2. **Просмотр файлов:**
   - Список файлов отображается в левой панели
   - Для каждого файла показывается размер и количество чанков

3. **Просмотр узлов:**
   - Список узлов хранения отображается в правой панели
   - Показывается ID узла, IP адрес, порт, свободное место и статус

4. **Загрузка файла:**
   - Нажмите кнопку "Upload File"
   - Выберите файл в диалоге
   - Файл будет загружен в систему

5. **Скачивание файла:**
   - Выберите файл в списке
   - Нажмите кнопку "Download File"
   - Выберите место сохранения

6. **Просмотр чанков:**
   - Выберите файл в списке
   - Нажмите кнопку "View Chunks"
   - Откроется окно с детальной информацией о чанках и узлах

7. **Обновление данных:**
   - Нажмите кнопку "Refresh" для обновления списков файлов и узлов

## Структура окна

```
┌─────────────────────────────────────────────────────────────┐
│ CourseStore - Distributed File Storage                     │
├─────────────────────────────────────────────────────────────┤
│ Server: [127.0.0.1] Port: [8080] [Connect]                 │
├──────────────────────────┬─────────────────────────────────┤
│ Files:                    │ Storage Nodes:                  │
│ ┌──────────────────────┐ │ ┌─────────────────────────────┐ │
│ │ file1.pdf (5 MB)     │ │ │ node1 (192.168.1.1:9000)    │ │
│ │ file2.jpg (2 MB)     │ │ │ node2 (192.168.1.2:9001)    │ │
│ │ ...                  │ │ │ ...                         │ │
│ └──────────────────────┘ │ └─────────────────────────────┘ │
├──────────────────────────┴─────────────────────────────────┤
│ [Upload File] [Download File] [View Chunks] [Refresh]      │
├─────────────────────────────────────────────────────────────┤
│ Status: Connected to server                                 │
└─────────────────────────────────────────────────────────────┘
```

## Особенности реализации

- Использует WinAPI для создания нативного интерфейса Windows
- Асинхронные операции (загрузка/скачивание) выполняются в отдельных потоках
- Автоматическое обновление списков после операций
- Кэширование информации об узлах для быстрого доступа
- Валидация данных перед операциями

## Зависимости

- `common` - общие утилиты (NetworkUtils, HashUtils)
- `client` - клиентская логика (MetadataClient, UploadManager, DownloadManager)

## Примечания

- Для работы необходимо, чтобы Metadata Server и Storage Nodes были запущены
- Рекомендуется запускать минимум 2 Storage Node для репликации данных
- Интерфейс автоматически обновляется при выполнении операций


